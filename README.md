# SVG issue/Feature request


Add into streamlit an svg image that can provide interactivity.
More specifically, I am looking to add an svg image generated by Graphviz into my streamlit project.
Furthermore, be able to react to clicks on such an image.

## First attempt (direct svg)

Add the svg directly

```
st.markdown(open("issue/default-simple.svg").read(), unsafe_allow_html=True)
```

Run:

```
streamlit run main_svg.py
```

This adds the svg components in a different order. See [issue/streamlit_reordered_svg.html](issue/streamlit_reordered_svg.html)

### Original svg

```
<svg width="62pt" height="116pt"
 viewBox="0.00 0.00 62.00 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
        <title>default</title>
        <polygon fill="white" stroke="none" points="-4,4 -4,-112 58,-112 58,4 -4,4"/>
        <!-- b -->
        <g id="node1" class="node">
            <title>b</title>
            <ellipse fill="none" stroke="black" cx="27" cy="-18" rx="27" ry="18"/>
            <text text-anchor="middle" x="27" y="-12.95" font-family="Times,serif" font-size="14.00">b</text>
        </g>
        <!-- a -->
        <g id="node2" class="node">
            <title>a</title>
            <polygon fill="none" stroke="red" points="54,-108 0,-108 0,-72 54,-72 54,-108"/>
            <text text-anchor="middle" x="27" y="-84.95" font-family="Times,serif" font-size="14.00">a</text>
        </g>
        <!-- a&#45;&#45;b -->
        <g id="edge1" class="edge">
            <title>a&#45;&#45;b</title>
            <path fill="none" stroke="black" d="M27,-71.7C27,-60.85 27,-46.92 27,-36.1"/>
        </g>
    </g>
</svg>

```

### SVG code in html

```
<div data-testid="stMarkdownContainer" class="css-5rimss e1nzilvr5">
    <p>
    <svg width="62pt" height="116pt" viewBox="0.00 0.00 62.00 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)"></g>
    </svg>
    </p>
    <title>default</title>
    <polygon fill="white" stroke="none" points="-4,4 -4,-112 58,-112 58,4 -4,4">
    <g id="node1" class="node">
        <title>b</title>
        <ellipse fill="none" stroke="black" cx="27" cy="-18" rx="27" ry="18">
            <text text-anchor="middle" x="27" y="-12.95" font-family="Times,serif" font-size="14.00">b</text>
        </ellipse>
    </g>
    <g id="node2" class="node">
        <title>a</title>
        <polygon fill="none" stroke="red" points="54,-108 0,-108 0,-72 54,-72 54,-108">
            <text text-anchor="middle" x="27" y="-84.95" font-family="Times,serif" font-size="14.00">a</text>
        </polygon>
    </g>
    <g id="edge1" class="edge">
        <title>a--b</title>
        <path fill="none" stroke="black" d="M27,-71.7C27,-60.85 27,-46.92 27,-36.1"></path>
    </g>
    </polygon>
</div>
```

## Second attempt (following the approach sugested online by Adrien_Treuille)

https://discuss.streamlit.io/t/display-svg/172/4

- Transform to base 64

This adds the correct image to the webpage. 

However, if haven't found a way to listen to events on such an image encoded in base 64.
The svg with the interactivity is [issue/default.svg](issue/default.svg), which includes a script.

```
streamlit run main_base64.py
```

Having a very simple html as [issue/plain.html](issue/plain.html), just with the `<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lv...">` already does not give the expected interaction (where clicking on a node edits its opacity).



# Question

Is there a way to listen to the clicks on the svg image?